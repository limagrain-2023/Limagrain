{"utilities":{},"programModules":{"EXT001MI":{"program":"EXT001MI","triggers":{},"transactions":{"ISPGetSuppliers":{"sourceUuid":"2a01a64a-904e-40cf-814d-6eed84d468ea","name":"ISPGetSuppliers","program":"EXT001MI","description":"ALL_MI_0001_GetSuppliers","active":true,"multi":true,"modified":1679047397389,"modifiedBy":"ISPAFE01","outputFields":[{"name":"RCTP","description":"Record Type","length":1,"mandatory":false,"type":"A"},{"name":"DIVI","description":"division","length":3,"mandatory":false,"type":"A"},{"name":"SUNO","description":"supplier","length":10,"mandatory":false,"type":"A"},{"name":"SUNM","description":"supplier name","length":36,"mandatory":false,"type":"A"},{"name":"PHNO","description":"telephone number 1","length":16,"mandatory":false,"type":"A"},{"name":"TEPY","description":"payment terms","length":3,"mandatory":false,"type":"A"},{"name":"TECD","description":"cash discount term","length":3,"mandatory":false,"type":"A"},{"name":"PYME","description":"payment method - accounts payable","length":3,"mandatory":false,"type":"A"},{"name":"VTCD","description":"VAT code","length":2,"mandatory":false,"type":"N"},{"name":"CSCD","description":"country","length":3,"mandatory":false,"type":"A"},{"name":"STAT","description":"status","length":2,"mandatory":false,"type":"A"},{"name":"VRNO","description":"VAT registration number","length":16,"mandatory":false,"type":"A"},{"name":"EMAL","description":"email address","length":60,"mandatory":false,"type":"A"},{"name":"PRSU","description":"payee","length":10,"mandatory":false,"type":"A"},{"name":"SUCM","description":"supplier computer communication address","length":20,"mandatory":false,"type":"A"},{"name":"ADR1","description":"address line 1","length":36,"mandatory":false,"type":"A"},{"name":"ADR2","description":"address line 2","length":36,"mandatory":false,"type":"A"},{"name":"ADR3","description":"address line 3","length":36,"mandatory":false,"type":"A"},{"name":"ADR4","description":"address line 4","length":36,"mandatory":false,"type":"A"},{"name":"ASCD","description":"CSCD Address","length":3,"mandatory":false,"type":"A"},{"name":"PONO","description":"Postal code","length":10,"mandatory":false,"type":"A"},{"name":"EDES","description":"place","length":10,"mandatory":false,"type":"A"},{"name":"TOWN","description":"city","length":20,"mandatory":false,"type":"A"},{"name":"ECAR","description":"state","length":2,"mandatory":false,"type":"A"},{"name":"IAPC","description":"invoice approval condition 1","length":1,"mandatory":false,"type":"N"},{"name":"BDIV","description":"Bank Division","length":3,"mandatory":false,"type":"A"},{"name":"BKID","description":"bank account identity","length":5,"mandatory":false,"type":"A"},{"name":"BAF1","description":"bank account field 1","length":15,"mandatory":false,"type":"A"},{"name":"FIAN","description":"account number at financial institution","length":25,"mandatory":false,"type":"A"},{"name":"IBAN","description":"international bank account number","length":34,"mandatory":false,"type":"A"},{"name":"CBPY","description":"bank priority","length":2,"mandatory":false,"type":"N"},{"name":"BKST","description":"Bank Status","length":2,"mandatory":false,"type":"A"}],"inputFields":[{"name":"SUNO","description":"supplier","length":10,"mandatory":false,"type":"A"},{"name":"DIVI","description":"Division","length":3,"mandatory":false,"type":"A"},{"name":"STAT","description":"STATUS","length":2,"mandatory":false,"type":"A"}],"utilities":[]}},"batches":{}}},"sources":{"2a01a64a-904e-40cf-814d-6eed84d468ea":{"uuid":"2a01a64a-904e-40cf-814d-6eed84d468ea","updated":1679089149588,"updatedBy":"ISPAFE01","created":1669309073317,"createdBy":"ISPAFE01","apiVersion":"0.14","beVersion":"16.0.0.20230118181716.8","codeHash":"073D1F46EA34DA1F82EC562AE41CB25BA360F5B2AE5C3D35A8A12997AAE3A573","code":"LyoqDQoqIFJFQURNRQ0KKiBUaGlzIGV4dGVuc2lvbiBTZW5kcyBNMyBTdXBwbGllciBkZXRhaWxzIChCYXNpYyBkZXRhaWxzLCBhZGRyZXNzIGRldGFpbHMsIGVtYWlsIGFkZHJlc3MsIEJhbmsgRGV0YWlscykgdG8gM3JkIHBhcnR5IGFwcGxpY2F0aW9uIElTUC4gDQoqIA0KKg0KKiBOYW1lOiBFWFQwMDFNSS5JU1BHZXRTdXBwbGllcnMNCiogRGVzY3JpcHRpb246IA0KKiBEYXRlICAgICAgICAgIENoYW5nZWQgYnkgICAgICAgICAgICAgIERlc2NyaXB0aW9uDQoqIDIwMjEtMDUtMTkgICAgSGl0ZXNoIENob3RyYW5pICAgICAgICAgSW5pdGlhbCB2ZXJzaW9uDQoqIDIwMjMtMDMtMTAgICAgU2hhc2hhbmsgTWFsYWxpICAgICAgICAgUmVtb3ZlIHVudXNlZCBjb2RlLCB1c2FnZSBsb3dlckNhbWVsQ2FzZQ0KKiAgDQoqLw0KDQoNCnB1YmxpYyBjbGFzcyBJU1BHZXRTdXBwbGllcnMgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsNCiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaTsNCiAgcHJpdmF0ZSBmaW5hbCBQcm9ncmFtQVBJIHByb2dyYW07DQogIHByaXZhdGUgZmluYWwgTUlDYWxsZXJBUEkgbWlDYWxsZXI7DQogIHByaXZhdGUgZmluYWwgTG9nZ2VyQVBJIGxvZ2dlcjsNCiAgcHJpdmF0ZSBTdHJpbmcgZGl2aXNpb25MaXN0ID0gIiI7DQogIHByaXZhdGUgU3RyaW5nIHN0YXR1c0xpc3QgPSAiIjsNCiAgcHJpdmF0ZSBTdHJpbmcgYWN0aXZlU3VwcGxpZXIgPSAiIg0KICBwcml2YXRlIFN0cmluZyBhY3RpdmVTdXBwbGllck5hbWUgPSAiIg0KICBwcml2YXRlIFN0cmluZyBDT05PID0gIiI7DQogIHByaXZhdGUgU3RyaW5nIEZSU1UgPSAiIjsNCiAgcHJpdmF0ZSBBcnJheUxpc3QgPCBTdHJpbmcgPiBiYW5rQWNjb3VudHN0YXR1c0xpc3QgPSBudWxsOw0KICBwcml2YXRlIEFycmF5TGlzdCA8IFN0cmluZyA+IGV4Y2x1ZGVkQWNjb3VudHNMaXN0ID0gbnVsbDsNCiAgcHJpdmF0ZSBBcnJheUxpc3QgPCBTdHJpbmcgPiBhZGRyZXNzVHlwZXNMaXN0ID0gbnVsbDsNCiAgcHJpdmF0ZSBBcnJheUxpc3QgPCBTdHJpbmcgPiBhZGRyZXNzSWRzTGlzdCA9IG51bGw7DQogIHByaXZhdGUgQXJyYXlMaXN0IDwgSGFzaHRhYmxlID4gc3VwcGxpZXJMaXN0ID0gbnVsbDsNCiAgcHJpdmF0ZSBBcnJheUxpc3QgPCBIYXNodGFibGUgPiBhZGRyZXNzTGlzdCA9IG51bGw7DQogIHByaXZhdGUgU3RyaW5nIFNUQVQgPSAiIiwgUEhOTyA9ICIiLCBDU0NEID0gIiIsIFZSTk8gPSAiIiwgU1VDTSA9ICIiLCBWVENEID0gIiIsIFRFUFkgPSAiIiwgUFlNRSA9ICIiLCBQUlNVID0gIiIsIFRFQ0QgPSAiIiwgSUFQQyA9ICIiLCBFTUFMID0gIiI7DQogIHByaXZhdGUgU3RyaW5nIEFEUjEgPSAiIiwgQURSMiA9ICIiLCBBRFIzID0gIiIsIEFEUjQgPSAiIiwgVE9XTiA9ICIiLCBFQ0FSID0gIiIsIFBPTk8gPSAiIiwgQVNDRCA9ICIiLCBFREVTID0gIiI7DQogIHByaXZhdGUgYm9vbGVhbiBlbmRPZkxpc3QgPSBmYWxzZTsNCg0KICBwdWJsaWMgSVNQR2V0U3VwcGxpZXJzKE1JQVBJIG1pLCBQcm9ncmFtQVBJIHByb2dyYW0sIE1JQ2FsbGVyQVBJIG1pQ2FsbGVyLCBMb2dnZXJBUEkgbG9nZ2VyKSB7DQogICAgdGhpcy5taSA9IG1pOw0KICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07DQogICAgdGhpcy5taUNhbGxlciA9IG1pQ2FsbGVyOw0KICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyOw0KICB9DQoNCiAgcHVibGljIHZvaWQgbWFpbigpIHsNCiAgICBkaXZpc2lvbkxpc3QgPSBtaS5pbkRhdGEuZ2V0KCdESVZJJyk7DQogICAgQ09OTyA9IHByb2dyYW0uTERBWkQuZ2V0KCdDT05PJyk7DQogICAgRlJTVSA9IG1pLmluRGF0YS5nZXQoJ1NVTk8nKTsNCiAgICBwb3B1bGF0ZUNvbnRyb2xQcm9wZXJ0aWVzKCk7DQogICAgZ2F0aGVyQWxsU3VwcGxpZXJzKCk7DQogICAgaWYgKHN1cHBsaWVyTGlzdC5zaXplIDwgMjAwKSB7DQogICAgICBlbmRPZkxpc3QgPSB0cnVlOw0KICAgIH0NCiAgICBpZiAoIUZSU1UudHJpbSgpLmlzRW1wdHkoKSkgew0KICAgICAgc3VwcGxpZXJMaXN0LnJlbW92ZSgwKTsNCiAgICB9DQogICAgaWYgKHN1cHBsaWVyTGlzdC5zaXplID4gMjAwKSB7DQogICAgICBzdXBwbGllckxpc3Quc2l6ZSA9IDIwMDsNCiAgICB9DQoNCiAgICBzdXBwbGllckxpc3QuZWFjaCB7DQogICAgICB2YWx1ZSAtPg0KICAgICAgICBIYXNodGFibGUgZWFjaFN1cHBsaWVyID0gdmFsdWU7DQogICAgICBjbGVhclN1cHBsaWVyRGV0YWlsc1ZhcmlhYmxlcygpOw0KICAgICAgZ2V0U3VwcGxpZXJEZXRhaWxzKGVhY2hTdXBwbGllcik7DQogICAgICBnZXRTdXBwbGllckVtYWlsKGVhY2hTdXBwbGllcik7DQogICAgICBnZXRTdXBwbGllckFkZHJlc3MoZWFjaFN1cHBsaWVyKTsNCg0KICAgICAgc2V0YWRkcmVzcygpOw0KDQogICAgICB3cml0ZVN1cHBsaWVyVG9PdXRwdXQoZWFjaFN1cHBsaWVyKTsNCiAgICAgIGdldEJhbmtEZXRhaWxzKGVhY2hTdXBwbGllcik7DQoNCiAgICB9DQogICAgaWYgKGVuZE9mTGlzdCkgew0KICAgICAgbWkub3V0RGF0YS5wdXQoJ1JDVFAnLCAnTCcpOw0KICAgICAgbWkub3V0RGF0YS5wdXQoJ1NVTk8nLCAnJSVFT0YlJScpOw0KICAgICAgbWkud3JpdGUoKTsNCiAgICB9DQoNCiAgfQ0KDQogIC8qKg0KICAgKiBHZXQgQ29udHJvbCBwcm9wZXJpZXMgZnJvbSBDVUdFWDENCiAgICogDQogICAqLw0KICAgDQogIHB1YmxpYyBwb3B1bGF0ZUNvbnRyb2xQcm9wZXJ0aWVzKCkgew0KICAgIGJhbmtBY2NvdW50c3RhdHVzTGlzdCA9IG5ldyBBcnJheUxpc3QgPCBTdHJpbmcgPiAoKTsNCiAgICBib29sZWFuIHJlY29yZEV4aXN0cyA9IHRydWU7DQogICAgZGVmIGNhbGxiYWNrID0gew0KICAgICAgTWFwIDwgU3RyaW5nLA0KICAgICAgU3RyaW5nID4gcmVzdWx0cyAtPg0KICAgICAgcmVjb3JkRXhpc3RzID0gIXJlc3VsdHMuZ2V0KCdlcnJvcicpOw0KICAgICAgaWYgKHJlY29yZEV4aXN0cykgew0KICAgICAgICBTdHJpbmcgYmFua0FjY291bnRTdGF0dXNlcyA9IHJlc3VsdHMuZ2V0KCdBMTIxJyk7DQogICAgICAgIFN0cmluZ1tdIGJhbmtBY2NvdW50U3RhdHVzQXJyYXkgPSBiYW5rQWNjb3VudFN0YXR1c2VzLnNwbGl0KCc7Jyk7DQogICAgICAgIGJhbmtBY2NvdW50U3RhdHVzQXJyYXkuZWFjaCB7DQogICAgICAgICAgdmFsdWUgLT4NCiAgICAgICAgICAgIFN0cmluZyBiYW5rQWNjb3VudFN0YXR1cyA9IHZhbHVlOw0KICAgICAgICAgIGJhbmtBY2NvdW50c3RhdHVzTGlzdC5hZGQoYmFua0FjY291bnRTdGF0dXMudHJpbSgpKTsNCg0KICAgICAgICB9DQogICAgICB9IGVsc2Ugew0KICAgICAgICBtaS5lcnJvcigiUGxlYXNlIG1haW50YWluIHJlY29yZCBpbiBDVUdFWDEgZm9yIEJBTktBQ0NPVU5UU1RBVFVTIik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICB9DQogICAgZGVmIHBhcmFtcyA9IFsiRklMRSI6ICJJU1BGSUxFIiwgIlBLMDEiOiAiR0VUU1VQUExJRVJTIiwgIlBLMDIiOiAiQkFOS0FDQ09VTlRTVEFUVVMiXTsNCiAgICBtaUNhbGxlci5jYWxsKCJDVVNFWFRNSSIsICJHZXRGaWVsZFZhbHVlIiwgcGFyYW1zLCBjYWxsYmFjayk7DQoNCiAgICBleGNsdWRlZEFjY291bnRzTGlzdCA9IG5ldyBBcnJheUxpc3QgPCBTdHJpbmcgPiAoKTsNCiAgICBkZWYgY2FsbGJhY2syID0gew0KICAgICAgTWFwIDwgU3RyaW5nLA0KICAgICAgU3RyaW5nID4gcmVzdWx0cyAtPg0KICAgICAgcmVjb3JkRXhpc3RzID0gIXJlc3VsdHMuZ2V0KCdlcnJvcicpOw0KICAgICAgaWYgKHJlY29yZEV4aXN0cykgew0KICAgICAgICBTdHJpbmcgZXhjbHVkZWRBY2NvdW50cyA9IHJlc3VsdHMuZ2V0KCdBMTIxJyk7DQogICAgICAgIFN0cmluZ1tdIGV4Y2x1ZGVkQWNjb3VudHNBcnJheSA9IGV4Y2x1ZGVkQWNjb3VudHMuc3BsaXQoJzsnKTsNCiAgICAgICAgZXhjbHVkZWRBY2NvdW50c0FycmF5LmVhY2ggew0KICAgICAgICAgIHZhbHVlIC0+DQogICAgICAgICAgICBTdHJpbmcgZXhjbHVkZWRBY2NvdW50ID0gdmFsdWU7DQogICAgICAgICAgZXhjbHVkZWRBY2NvdW50c0xpc3QuYWRkKGV4Y2x1ZGVkQWNjb3VudCk7DQoNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgbWkuZXJyb3IoIlBsZWFzZSBtYWludGFpbiByZWNvcmQgaW4gQ1VHRVgxIGZvciBFWENMVURFREFDQ09VTlRTIik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICB9DQogICAgZGVmIHBhcmFtczIgPSBbIkZJTEUiOiAiSVNQRklMRSIsICJQSzAxIjogIkdFVFNVUFBMSUVSUyIsICJQSzAyIjogIkVYQ0xVREVEQUNDT1VOVFMiXTsNCiAgICBtaUNhbGxlci5jYWxsKCJDVVNFWFRNSSIsICJHZXRGaWVsZFZhbHVlIiwgcGFyYW1zMiwgY2FsbGJhY2syKTsNCg0KICAgIGFkZHJlc3NUeXBlc0xpc3QgPSBuZXcgQXJyYXlMaXN0IDwgU3RyaW5nID4gKCk7DQogICAgZGVmIGNhbGxiYWNrMyA9IHsNCiAgICAgIE1hcCA8IFN0cmluZywNCiAgICAgIFN0cmluZyA+IHJlc3VsdHMgLT4NCiAgICAgIHJlY29yZEV4aXN0cyA9ICFyZXN1bHRzLmdldCgnZXJyb3InKTsNCiAgICAgIGlmIChyZWNvcmRFeGlzdHMpIHsNCiAgICAgICAgU3RyaW5nIGFkZHJlc3NUeXBlcyA9IHJlc3VsdHMuZ2V0KCdBMTIxJyk7DQogICAgICAgIFN0cmluZ1tdIGFkZHJlc3NUeXBlc0FycmF5ID0gYWRkcmVzc1R5cGVzLnNwbGl0KCc7Jyk7DQogICAgICAgIGFkZHJlc3NUeXBlc0FycmF5LmVhY2ggew0KICAgICAgICAgIHZhbHVlIC0+DQogICAgICAgICAgICBTdHJpbmcgYWRkcmVzc1R5cGUgPSB2YWx1ZTsNCiAgICAgICAgICBhZGRyZXNzVHlwZXNMaXN0LmFkZChhZGRyZXNzVHlwZSk7DQogICAgICAgIH0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIG1pLmVycm9yKCJQbGVhc2UgbWFpbnRhaW4gcmVjb3JkIGluIENVR0VYMSBmb3IgQUREUkVTU1RZUEUiKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgIH0NCiAgICBkZWYgcGFyYW1zMyA9IFsiRklMRSI6ICJJU1BGSUxFIiwgIlBLMDEiOiAiR0VUU1VQUExJRVJTIiwgIlBLMDIiOiAiQUREUkVTU1RZUEUiXTsNCiAgICBtaUNhbGxlci5jYWxsKCJDVVNFWFRNSSIsICJHZXRGaWVsZFZhbHVlIiwgcGFyYW1zMywgY2FsbGJhY2szKTsNCg0KICAgIGFkZHJlc3NJZHNMaXN0ID0gbmV3IEFycmF5TGlzdCA8IFN0cmluZyA+ICgpOw0KICAgIGRlZiBjYWxsYmFjazQgPSB7DQogICAgICBNYXAgPCBTdHJpbmcsDQogICAgICBTdHJpbmcgPiByZXN1bHRzIC0+DQogICAgICByZWNvcmRFeGlzdHMgPSAhcmVzdWx0cy5nZXQoJ2Vycm9yJyk7DQogICAgICBpZiAocmVjb3JkRXhpc3RzKSB7DQogICAgICAgIFN0cmluZyBhZGRyZXNzSWRzID0gcmVzdWx0cy5nZXQoJ0ExMjEnKTsNCiAgICAgICAgU3RyaW5nW10gYWRkcmVzc0lkc0FycmF5ID0gYWRkcmVzc0lkcy5zcGxpdCgnOycpOw0KICAgICAgICBhZGRyZXNzSWRzQXJyYXkuZWFjaCB7DQogICAgICAgICAgdmFsdWUgLT4NCiAgICAgICAgICAgIFN0cmluZyBhZGRyZXNzSWQgPSB2YWx1ZTsNCiAgICAgICAgICBhZGRyZXNzSWRzTGlzdC5hZGQoYWRkcmVzc0lkKTsNCiAgICAgICAgfQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgbWkuZXJyb3IoIlBsZWFzZSBtYWludGFpbiByZWNvcmQgaW4gQ1VHRVgxIGZvciBBRERSRVNTSUQiKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgIH0NCiAgICBkZWYgcGFyYW1zNCA9IFsiRklMRSI6ICJJU1BGSUxFIiwgIlBLMDEiOiAiR0VUU1VQUExJRVJTIiwgIlBLMDIiOiAiQUREUkVTU0lEIl07DQogICAgbWlDYWxsZXIuY2FsbCgiQ1VTRVhUTUkiLCAiR2V0RmllbGRWYWx1ZSIsIHBhcmFtczQsIGNhbGxiYWNrNCk7DQogIH0NCg0KICAvKioNCiAgICogTGlzdCBhbGwgU3VwcGxpZXJzIHVzaW5nIENSUzYyME1JLkxzdFN1cHBsaWVycw0KICAgKiANCiAgICovDQogICANCiAgcHVibGljIGdhdGhlckFsbFN1cHBsaWVycygpIHsNCiAgICBzdXBwbGllckxpc3QgPSBuZXcgQXJyYXlMaXN0IDwgSGFzaHRhYmxlID4gKCk7DQogICAgYm9vbGVhbiByZWNvcmRFeGlzdHMgPSB0cnVlOw0KICAgIGRlZiBjYWxsYmFjayA9IHsNCiAgICAgIE1hcCA8IFN0cmluZywNCiAgICAgIFN0cmluZyA+IHJlc3VsdHMgLT4NCiAgICAgIHJlY29yZEV4aXN0cyA9ICFyZXN1bHRzLmdldCgnZXJyb3InKTsNCiAgICAgIGlmIChyZWNvcmRFeGlzdHMpIHsNCiAgICAgICAgU3RyaW5nIFNVTk8gPSByZXN1bHRzLmdldCgnU1VOTycpOw0KICAgICAgICBTdHJpbmcgU1VOTSA9IHJlc3VsdHMuZ2V0KCdTVU5NJyk7DQogICAgICAgIEhhc2h0YWJsZSB0ZW1wVGFibGUgPSBuZXcgSGFzaHRhYmxlKCk7DQogICAgICAgIHRlbXBUYWJsZS5wdXQoJ1NVTk8nLCBTVU5PLnRyaW0oKSk7DQogICAgICAgIHRlbXBUYWJsZS5wdXQoJ1NVTk0nLCBTVU5NLnRyaW0oKSk7DQogICAgICAgIHN1cHBsaWVyTGlzdC5hZGQodGVtcFRhYmxlKTsNCiAgICAgIH0NCiAgICB9DQogICAgZGVmIHBhcmFtcyA9IFsiQ09OTyI6IENPTk8sICdGUlNVJzogRlJTVV07DQogICAgbWlDYWxsZXIuc2V0TGlzdE1heFJlY29yZHMoMjAxKTsNCiAgICBtaUNhbGxlci5jYWxsKCJDUlM2MjBNSSIsICJMc3RTdXBwbGllcnMiLCBwYXJhbXMsIGNhbGxiYWNrKTsNCiAgfQ0KDQoNCi8qKiBDbGVhciB0aGUgdmVyaWFibGVzDQogICAqIA0KICAqLw0KICANCiAgcHVibGljIGNsZWFyU3VwcGxpZXJEZXRhaWxzVmFyaWFibGVzKCkgew0KICAgIFNUQVQgPSAiIjsNCiAgICBQSE5PID0gIiI7DQogICAgQ1NDRCA9ICIiOw0KICAgIFZSTk8gPSAiIjsNCiAgICBTVUNNID0gIiI7DQogICAgVlRDRCA9ICIiOw0KICAgIFRFUFkgPSAiIjsNCiAgICBQWU1FID0gIiI7DQogICAgUFJTVSA9ICIiOw0KICAgIFRFQ0QgPSAiIjsNCiAgICBJQVBDID0gIiI7DQogICAgRU1BTCA9ICIiOw0KICAgIEFEUjEgPSAiIjsNCiAgICBBRFIyID0gIiI7DQogICAgQURSMyA9ICIiOw0KICAgIEFEUjQgPSAiIjsNCiAgICBUT1dOID0gIiI7DQogICAgRUNBUiA9ICIiOw0KICAgIFBPTk8gPSAiIjsNCiAgICBBU0NEID0gIiI7DQogICAgRURFUyA9ICIiOw0KICB9DQoNCiAgLyoqDQogICAqIEdldCBCYXNpYyBkZXRhaWxzIGZvciBlYWNoIHN1cHBsaWVyDQogICAqIA0KICAgKi8NCiAgcHVibGljIGdldFN1cHBsaWVyRGV0YWlscyhIYXNodGFibGUgZWFjaFN1cHBsaWVyKSB7DQogICAgU3RyaW5nIFNVTk8gPSBlYWNoU3VwcGxpZXIuZ2V0KCdTVU5PJyk7DQoNCiAgICBib29sZWFuIHJlY29yZEV4aXN0cyA9IHRydWU7DQogICAgZGVmIGNhbGxiYWNrID0gew0KICAgICAgTWFwIDwgU3RyaW5nLA0KICAgICAgU3RyaW5nID4gcmVzdWx0cyAtPg0KICAgICAgcmVjb3JkRXhpc3RzID0gIXJlc3VsdHMuZ2V0KCdlcnJvcicpOw0KICAgICAgaWYgKHJlY29yZEV4aXN0cykgew0KICAgICAgICBTVEFUID0gcmVzdWx0cy5nZXQoJ1NUQVQnKTsNCiAgICAgICAgUEhOTyA9IHJlc3VsdHMuZ2V0KCdQSE5PJyk7DQogICAgICAgIENTQ0QgPSByZXN1bHRzLmdldCgnQ1NDRCcpOw0KICAgICAgICBWUk5PID0gcmVzdWx0cy5nZXQoJ1ZSTk8nKTsNCiAgICAgICAgU1VDTSA9IHJlc3VsdHMuZ2V0KCdTVUNNJyk7DQogICAgICAgIFZUQ0QgPSByZXN1bHRzLmdldCgnVlRDRCcpOw0KICAgICAgICBURVBZID0gcmVzdWx0cy5nZXQoJ1RFUFknKTsNCiAgICAgICAgUFlNRSA9IHJlc3VsdHMuZ2V0KCdQWU1FJyk7DQogICAgICAgIFBSU1UgPSByZXN1bHRzLmdldCgnUFJTVScpICE9IG51bGwgJiYgIXJlc3VsdHMuZ2V0KCdQUlNVJykudHJpbSgpLmlzQmxhbmsoKSA/IHJlc3VsdHMuZ2V0KCdQUlNVJykgOiBTVU5POw0KICAgICAgICBURUNEID0gcmVzdWx0cy5nZXQoJ1RFQ0QnKTsNCiAgICAgICAgSUFQQyA9IHJlc3VsdHMuZ2V0KCdJQVBDJyk7DQoNCiAgICAgIH0NCiAgICB9DQogICAgZGVmIHBhcmFtcyA9IFsiQ09OTyI6IENPTk8sICJTVU5PIjogU1VOT107DQogICAgDQogICAgbWlDYWxsZXIuY2FsbCgiQ1JTNjIwTUkiLCAiR2V0QmFzaWNEYXRhIiwgcGFyYW1zLCBjYWxsYmFjayk7DQogIH0NCg0KICAvKioNCiAgICogR2V0IGVtYWlsIGFkZHJlc3MgZm9yIGVhY2ggc3VwcGxpZXINCiAgICogDQogICAqLw0KICAgDQogIHB1YmxpYyBnZXRTdXBwbGllckVtYWlsKEhhc2h0YWJsZSBlYWNoU3VwcGxpZXIpIHsNCiAgICBTdHJpbmcgU1VOTyA9IGVhY2hTdXBwbGllci5nZXQoJ1NVTk8nKTsNCg0KICAgIGJvb2xlYW4gcmVjb3JkRXhpc3RzID0gdHJ1ZTsNCiAgICBkZWYgY2FsbGJhY2sgPSB7DQogICAgICBNYXAgPCBTdHJpbmcsDQogICAgICBTdHJpbmcgPiByZXN1bHRzIC0+DQogICAgICByZWNvcmRFeGlzdHMgPSAhcmVzdWx0cy5nZXQoJ2Vycm9yJyk7DQogICAgICBpZiAocmVjb3JkRXhpc3RzKSB7DQogICAgICAgIEVNQUwgPSByZXN1bHRzLmdldCgnRU1BTCcpOw0KDQogICAgICB9DQogICAgfQ0KICAgIGRlZiBwYXJhbXMgPSBbIkVNVFAiOiAiMDIiLCAiRU1LWSI6IFNVTk9dOw0KICAgIG1pQ2FsbGVyLmNhbGwoIkNSUzExMU1JIiwgIkdldCIsIHBhcmFtcywgY2FsbGJhY2spOw0KICB9DQoNCiAgLyoqDQogICAqIERlcGVuZCB1cG9uIGNvbnRyb2wgcHJvcGVydHkgLCBnZXQgc3VwcGxpZXIgYWRkcmVzcyBkZXRhaWxzDQogICAqIA0KICAgKi8NCiAgIA0KICBwdWJsaWMgZ2V0U3VwcGxpZXJBZGRyZXNzKEhhc2h0YWJsZSBlYWNoU3VwcGxpZXIpIHsNCiAgICBTdHJpbmcgU1VOTyA9IGVhY2hTdXBwbGllci5nZXQoJ1NVTk8nKTsNCg0KICAgIGJvb2xlYW4gcmVjb3JkRXhpc3RzID0gdHJ1ZTsNCiAgICBkZWYgY2FsbGJhY2sgPSB7DQogICAgICBNYXAgPCBTdHJpbmcsDQogICAgICBTdHJpbmcgPiByZXN1bHRzIC0+DQogICAgICByZWNvcmRFeGlzdHMgPSAhcmVzdWx0cy5nZXQoJ2Vycm9yJyk7DQogICAgICBpZiAocmVjb3JkRXhpc3RzKSB7DQoNCiAgICAgICAgU3RyaW5nIEFEVEUgPSAiIjsNCiAgICAgICAgU3RyaW5nIEFESUQgPSAiIjsNCiAgICAgICAgQURURSA9IHJlc3VsdHMuZ2V0KCdBRFRFJyk7DQogICAgICAgIEFESUQgPSByZXN1bHRzLmdldCgnQURJRCcpOw0KICAgICAgICBBRFIxID0gcmVzdWx0cy5nZXQoJ0FEUjEnKTsNCiAgICAgICAgQURSMiA9IHJlc3VsdHMuZ2V0KCdBRFIyJyk7DQogICAgICAgIEFEUjMgPSByZXN1bHRzLmdldCgnQURSMycpOw0KICAgICAgICBBRFI0ID0gcmVzdWx0cy5nZXQoJ0FEUjQnKTsNCiAgICAgICAgVE9XTiA9IHJlc3VsdHMuZ2V0KCdUT1dOJyk7DQogICAgICAgIEVDQVIgPSByZXN1bHRzLmdldCgnRUNBUicpOw0KICAgICAgICBQT05PID0gcmVzdWx0cy5nZXQoJ1BPTk8nKTsNCiAgICAgICAgQVNDRCA9IHJlc3VsdHMuZ2V0KCdDU0NEJyk7DQogICAgICAgIEVERVMgPSByZXN1bHRzLmdldCgnRURFUycpOw0KDQogICAgICAgIEhhc2h0YWJsZSB0ZW1wVGFibGUgPSBuZXcgSGFzaHRhYmxlKCk7DQogICAgICAgIHRlbXBUYWJsZS5wdXQoJ0FEVEUnLCBBRFRFKTsNCiAgICAgICAgdGVtcFRhYmxlLnB1dCgnQURJRCcsIEFESUQpOw0KICAgICAgICB0ZW1wVGFibGUucHV0KCdBRFIxJywgQURSMSk7DQogICAgICAgIHRlbXBUYWJsZS5wdXQoJ0FEUjInLCBBRFIyKTsNCiAgICAgICAgdGVtcFRhYmxlLnB1dCgnQURSMycsIEFEUjMpOw0KICAgICAgICB0ZW1wVGFibGUucHV0KCdBRFI0JywgQURSNCk7DQogICAgICAgIHRlbXBUYWJsZS5wdXQoJ1RPV04nLCBUT1dOKTsNCiAgICAgICAgdGVtcFRhYmxlLnB1dCgnRUNBUicsIEVDQVIpOw0KICAgICAgICB0ZW1wVGFibGUucHV0KCdQT05PJywgUE9OTyk7DQogICAgICAgIHRlbXBUYWJsZS5wdXQoJ0NTQ0QnLCBDU0NEKTsNCiAgICAgICAgdGVtcFRhYmxlLnB1dCgnRURFUycsIEVERVMpOw0KICAgICAgICBhZGRyZXNzTGlzdC5hZGQodGVtcFRhYmxlKTsNCg0KICAgICAgfQ0KICAgIH0NCiAgICBkZWYgcGFyYW1zID0gWyJTVU5PIjogU1VOT107DQogICAgbWlDYWxsZXIuc2V0TGlzdE1heFJlY29yZHMoNTApOw0KICAgIG1pQ2FsbGVyLmNhbGwoIkNSUzYyME1JIiwgIkxzdEFkZHJlc3NlcyIsIHBhcmFtcywgY2FsbGJhY2spOw0KICB9DQogIA0KICAvKiogc2V0IHRoZSBhZGRyZXNzIGxvb3ANCiAgICogDQogICovDQoNCiAgcHVibGljIHNldGFkZHJlc3MoKSB7DQogICAgYWRkcmVzc0xpc3QuZWFjaCB7DQogICAgICB2YWx1ZSAtPg0KICAgICAgICBIYXNodGFibGUgZWFjaGFkZHJlc3NMaXN0ID0gdmFsdWU7DQogICAgICBzZXRBZGRyZXNzRGV0YWlscyhlYWNoYWRkcmVzc0xpc3QpOw0KICAgIH0NCiAgfQ0KDQogIC8qKiBzZXQgdGhlIGFkZHJlc3MgZGV0YWlscyBpbiBvdXRwdXQgdmVyaWFibGVzDQogICAqIA0KICAqLw0KDQogIHB1YmxpYyBzZXRBZGRyZXNzRGV0YWlscyhIYXNodGFibGUgZWFjaGFkZHJlc3NMaXN0KSB7DQoNCiAgICBTdHJpbmcgdGVtcEFEVEUgPSBlYWNoYWRkcmVzc0xpc3QuZ2V0KCdBRFRFJyk7DQogICAgU3RyaW5nIHRlbXBBRElEID0gZWFjaGFkZHJlc3NMaXN0LmdldCgnQURJRCcpOw0KICAgIFN0cmluZyB0ZW1wQURSMSA9IGVhY2hhZGRyZXNzTGlzdC5nZXQoJ0FEUjEnKTsNCiAgICBTdHJpbmcgdGVtcEFEUjIgPSBlYWNoYWRkcmVzc0xpc3QuZ2V0KCdBRFIyJyk7DQogICAgU3RyaW5nIHRlbXBBRFIzID0gZWFjaGFkZHJlc3NMaXN0LmdldCgnQURSMycpOw0KICAgIFN0cmluZyB0ZW1wQURSNCA9IGVhY2hhZGRyZXNzTGlzdC5nZXQoJ0FEUjQnKTsNCiAgICBTdHJpbmcgdGVtcFRPV04gPSBlYWNoYWRkcmVzc0xpc3QuZ2V0KCdUT1dOJyk7DQogICAgU3RyaW5nIHRlbXBFQ0FSID0gZWFjaGFkZHJlc3NMaXN0LmdldCgnRUNBUicpOw0KICAgIFN0cmluZyB0ZW1wUE9OTyA9IGVhY2hhZGRyZXNzTGlzdC5nZXQoJ1BPTk8nKTsNCiAgICBTdHJpbmcgdGVtcENTQ0QgPSBlYWNoYWRkcmVzc0xpc3QuZ2V0KCdDU0NEJyk7DQogICAgU3RyaW5nIHRlbXBFREVTID0gZWFjaGFkZHJlc3NMaXN0LmdldCgnRURFUycpOw0KDQogICAgaWYgKGFkZHJlc3NUeXBlc0xpc3QuY29udGFpbnModGVtcEFEVEUudHJpbSgpKSAmJiBhZGRyZXNzSWRzTGlzdC5jb250YWlucyh0ZW1wQURJRC50cmltKCkpKSB7DQogICAgICBBRFIxID0gZWFjaGFkZHJlc3NMaXN0LmdldCgnQURSMScpOw0KICAgICAgQURSMiA9IGVhY2hhZGRyZXNzTGlzdC5nZXQoJ0FEUjInKTsNCiAgICAgIEFEUjMgPSBlYWNoYWRkcmVzc0xpc3QuZ2V0KCdBRFIzJyk7DQogICAgICBBRFI0ID0gZWFjaGFkZHJlc3NMaXN0LmdldCgnQURSNCcpOw0KICAgICAgVE9XTiA9IGVhY2hhZGRyZXNzTGlzdC5nZXQoJ1RPV04nKTsNCiAgICAgIEVDQVIgPSBlYWNoYWRkcmVzc0xpc3QuZ2V0KCdFQ0FSJyk7DQogICAgICBQT05PID0gZWFjaGFkZHJlc3NMaXN0LmdldCgnUE9OTycpOw0KICAgICAgQ1NDRCA9IGVhY2hhZGRyZXNzTGlzdC5nZXQoJ0NTQ0QnKTsNCiAgICAgIEVERVMgPSBlYWNoYWRkcmVzc0xpc3QuZ2V0KCdFREVTJyk7DQogICAgfQ0KDQogIH0NCiAgDQogICAgLyoqDQogICAqIFdyaXRlIHN1cHBsaWVyIGRldGFpbHMgdG8gb3V0cHV0IG9mIHRoZSBhcGkNCiAgICogDQogICAqLw0KDQogIHB1YmxpYyB3cml0ZVN1cHBsaWVyVG9PdXRwdXQoSGFzaHRhYmxlIGVhY2hTdXBwbGllcikgew0KICAgIFN0cmluZyBTVU5PID0gZWFjaFN1cHBsaWVyLmdldCgnU1VOTycpOw0KICAgIFN0cmluZyBTVU5NID0gZWFjaFN1cHBsaWVyLmdldCgnU1VOTScpOw0KDQogICAgbWkub3V0RGF0YS5wdXQoJ1JDVFAnLCAnSCcpOw0KICAgIG1pLm91dERhdGEucHV0KCdESVZJJywgIiIpOw0KICAgIG1pLm91dERhdGEucHV0KCdTVU5PJywgU1VOTyk7DQogICAgbWkub3V0RGF0YS5wdXQoJ1NVTk0nLCBTVU5NKTsNCiAgICBtaS5vdXREYXRhLnB1dCgnUEhOTycsIFBITk8pOw0KICAgIG1pLm91dERhdGEucHV0KCdURVBZJywgVEVQWSk7DQogICAgbWkub3V0RGF0YS5wdXQoJ1RFQ0QnLCBURUNEKTsNCiAgICBtaS5vdXREYXRhLnB1dCgnUFlNRScsIFBZTUUpOw0KICAgIA0KICAgIC8vQWRkZWQgYnkgQXBleCAxNy0wMy0yMDIzIA0KICAgIFZUQ0Q9VlRDRC50cmltKCk7DQogICAgaWYoKFZUQ0QuZXF1YWxzKCIwMiIpKXx8KFZUQ0QuZXF1YWxzKCIyIikpKSB7DQoJICBtaS5vdXREYXRhLnB1dCgnVlRDRCcsICIgIik7DQogICAgfWVsc2UgaWYgKChWVENELmVxdWFscygiMDMiKSl8fChWVENELmVxdWFscygiMyIpKSkgew0KCSAgbWkub3V0RGF0YS5wdXQoJ1ZUQ0QnLCAiICIpOw0KICAgIH1lbHNlIGlmIChWVENELnRyaW0oKS5sZW5ndGgoKSA9PSAxKSB7DQogICAgbWkub3V0RGF0YS5wdXQoJ1ZUQ0QnLCAiMCIgKyBWVENELnRvU3RyaW5nKCkpOw0KICAgIH1lbHNlIHsNCiAgICBtaS5vdXREYXRhLnB1dCgnVlRDRCcsIFZUQ0QpOw0KICAgIH0NCiAgICANCiAgICBtaS5vdXREYXRhLnB1dCgnQ1NDRCcsIENTQ0QpOw0KICAgIG1pLm91dERhdGEucHV0KCdTVEFUJywgU1RBVCk7DQogICAgbWkub3V0RGF0YS5wdXQoJ1ZSTk8nLCBWUk5PKTsNCiAgICBtaS5vdXREYXRhLnB1dCgnRU1BTCcsIEVNQUwpOw0KICAgIG1pLm91dERhdGEucHV0KCdQUlNVJywgUFJTVSk7DQogICAgbWkub3V0RGF0YS5wdXQoJ1NVQ00nLCBTVUNNKTsNCiAgICBtaS5vdXREYXRhLnB1dCgnQURSMScsIEFEUjEpOw0KICAgIG1pLm91dERhdGEucHV0KCdBRFIyJywgQURSMik7DQogICAgbWkub3V0RGF0YS5wdXQoJ0FEUjMnLCBBRFIzKTsNCiAgICBtaS5vdXREYXRhLnB1dCgnQURSNCcsIEFEUjQpOw0KICAgIG1pLm91dERhdGEucHV0KCdBU0NEJywgQVNDRCk7DQogICAgbWkub3V0RGF0YS5wdXQoJ1BPTk8nLCBQT05PKTsNCiAgICBtaS5vdXREYXRhLnB1dCgnRURFUycsIEVERVMpOw0KICAgIG1pLm91dERhdGEucHV0KCdUT1dOJywgVE9XTik7DQogICAgbWkub3V0RGF0YS5wdXQoJ0VDQVInLCBFQ0FSKTsNCiAgICBtaS5vdXREYXRhLnB1dCgnSUFQQycsIElBUEMpOw0KICAgIG1pLndyaXRlKCk7DQoNCiAgfQ0KDQogIC8qKg0KICAgKiBEZXBlbmQgdXBvbiBjb250cm9sIHByb3BlcnR5ICwgZ2V0IHN1cHBsaWVyIGJhbmsgZGV0YWlscw0KICAgKiANCiAgICovDQoNCiAgcHVibGljIGdldEJhbmtEZXRhaWxzKEhhc2h0YWJsZSBlYWNoU3VwcGxpZXIpIHsNCg0KICAgIFN0cmluZyBTVU5PID0gZWFjaFN1cHBsaWVyLmdldCgnU1VOTycpOw0KICAgIFN0cmluZyBTVU5NID0gZWFjaFN1cHBsaWVyLmdldCgnU1VOTScpOw0KDQogICAgYm9vbGVhbiByZWNvcmRFeGlzdHMgPSB0cnVlOw0KICAgIGRlZiBjYWxsYmFjayA9IHsNCiAgICAgIE1hcCA8IFN0cmluZywNCiAgICAgIFN0cmluZyA+IHJlc3VsdHMgLT4NCiAgICAgIHJlY29yZEV4aXN0cyA9ICFyZXN1bHRzLmdldCgnZXJyb3InKTsNCiAgICAgIGlmIChyZWNvcmRFeGlzdHMpIHsNCiAgICAgICAgU3RyaW5nIFNUQVQgPSByZXN1bHRzLmdldCgnU1RBVCcpOw0KICAgICAgICBTdHJpbmcgRElWSSA9IHJlc3VsdHMuZ2V0KCdESVZJJyk7DQogICAgICAgIFN0cmluZyBCS0lEID0gcmVzdWx0cy5nZXQoJ0JLSUQnKTsNCiAgICAgICAgU3RyaW5nIEFDSE8gPSByZXN1bHRzLmdldCgnQUNITycpOw0KICAgICAgICBTdHJpbmcgQ0JQWSA9IHJlc3VsdHMuZ2V0KCdDQlBZJyk7DQogICAgICAgIFN0cmluZyBGSUFOID0gcmVzdWx0cy5nZXQoJ0ZJQU4nKTsNCiAgICAgICAgU3RyaW5nIElCQU4gPSByZXN1bHRzLmdldCgnSUJBTicpOw0KICAgICAgICBTdHJpbmcgQkFGMSA9IHJlc3VsdHMuZ2V0KCdCQUYxJyk7DQogICAgICAgIGJvb2xlYW4gdGVzdCA9IGJhbmtBY2NvdW50c3RhdHVzTGlzdC5jb250YWlucyhTVEFULnRyaW0oKSk7DQoNCiAgICAgICAgaWYgKGJhbmtBY2NvdW50c3RhdHVzTGlzdC5jb250YWlucyhTVEFUKSAmJiAhZXhjbHVkZWRBY2NvdW50c0xpc3QuY29udGFpbnMoQktJRC50cmltKCkpICYmIChkaXZpc2lvbkxpc3QuaXNFbXB0eSgpIHx8IGRpdmlzaW9uTGlzdC50cmltKCkuZXF1YWxzKCIxIikgfHwgZGl2aXNpb25MaXN0LmNvbnRhaW5zKERJVkkudHJpbSgpKSkpIHsNCiAgICAgICAgICBtaS5vdXREYXRhLnB1dCgnUkNUUCcsICJCIik7DQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoJ0RJVkknLCAiIik7DQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoJ1NVTk8nLCBTVU5PKTsNCiAgICAgICAgICBtaS5vdXREYXRhLnB1dCgnU1VOTScsIFNVTk0pOw0KICAgICAgICAgIG1pLm91dERhdGEucHV0KCdCS0lEJywgQktJRCk7DQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoJ0JESVYnLCBESVZJKTsNCiAgICAgICAgICBtaS5vdXREYXRhLnB1dCgnQktTVCcsIFNUQVQpOw0KICAgICAgICAgIG1pLm91dERhdGEucHV0KCdDQlBZJywgQ0JQWSk7DQogICAgICAgICAgbWkub3V0RGF0YS5wdXQoJ0ZJQU4nLCBGSUFOKTsNCiAgICAgICAgICBtaS5vdXREYXRhLnB1dCgnSUJBTicsIElCQU4pOw0KICAgICAgICAgIG1pLm91dERhdGEucHV0KCdCQUYxJywgQkFGMSk7DQogICAgICAgICAgbWkud3JpdGUoKTsNCiAgICAgICAgfQ0KDQogICAgICB9DQogICAgfQ0KDQogICAgDQogICAgZGVmIHBhcmFtcyA9IFsiQktUUCI6ICIwMyIsICJBQ0hPIjogU1VOT107DQogICAgDQogICAgbWlDYWxsZXIuY2FsbCgiQ1JTNjkyTUkiLCAiTHN0QnlBY2NIb2xkZXIiLCBwYXJhbXMsIGNhbGxiYWNrKTsNCg0KICB9DQoNCn0="}}}